# SMTP

SMTP：Simple Mail Transfer Protocol（简单邮件传输协议）

从用户角度而言，发送邮件需要一个用户邮件代理，但是从系统的角度来看，传输邮件要用到信息传送代理（MTA）用户无需处理这个代理，而这个SMTP协议iu是指定了两个MTA是如何通信的。

它和FTP的操作是类似的，用户输入指令传输给服务端，然后服务端返回的是响应码和字符串。

一封电子邮件要包含三个部分：

1. 信封。这是给MTA用来邮递使用的，比如指定了FROM 和 TO。
2. 头部。这些头部由一个名字，分号，值组成，这些头部是给用户邮件代理看的。
3. 主体。这就是邮件的具体内容了。

所以当发送邮件时，用户邮件代理会将我们要发送的主体加上一些头部信息后交给MTA，然后MTA加上信封信息后进行传输。

#### 扩展：

信封扩展让SMTP扩展为了ESMTP协议，它在响应了客户端的ehlo命令后返回一个选项列表，可以对传输的邮件进行选择。头部的扩展使得用户的地址和主题可以增加额外的字符。主体的扩展称为多结果网络邮件扩展（MIME），它不需要增加一些扩展功能，只需要在头部增加一些选项就行了。

